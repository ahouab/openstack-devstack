This fork of devstack brings up all in one openstack + opencontrail
system. Run stack.sh as usual to setup OpenStack + contrail modules.

Contrail directory also includes some sample localrc files.
1) localrc-single: for all-in-one system 
2) localrc-multinode-server: master host on a multi node system. 
3) localrc-multinode-compute: all compute nodes. 

Notes:
1) You will need to install kernel-devel package to compile OpenContrail
   Vrouter module
2) Stack.sh will create an additional screen "contrail" for contrail modules.
3) This fork includes Neutron and Nova patches. These patches have been
   seperately submitted for review.
4) OpenStack + OpenContrail has been tested on FC17, Ubuntu 12.04 and 13.10
5) You need a github account. Register host's SSH keys to the github account
   otherwise checking out contrail code will fail. The repo tool assumes
   ssh and will not work with HTTPS git url. You can have ssh-agent forward
   keys to target system running devstack.
6) Copy sample localrc-single as localrc for a single node system. Copy
   localrc-multinode-server and localrc-multinode-compute as localrc on 
   master and compute nodes respectively for a multi-node system.
7) After running unstack.sh, run ifconfig and verify IP address has been
   restored on PHYSICAL_INTERFACE and vhost0 interface is gone. Sometimes
   you might see "ERROR: Module vrouter is in use" after running unstack.sh
   which means interface cleanup couldn't be done since vrouter is busy and
   could not be uninstalled. Repeat unstack.sh untill the interfaces are
   restored to original state.

Change the following in localrc to suit your deployment:
 PHYSICAL_INTERFACE -- external interface Vrouter should bind to
 SERVICE_HOST -- IP address of master

Steps for basic Ubuntu VM image
-------------------------------
1) ssh as ubuntu to target. Password should be ubuntu
2) Add following line to /etc/hosts to avoid
   "sudo: unable to resolve host ubuntu" error
   127.0.1.1 ubuntu
3) Get following packages. You may need to change linux header version
   package based on "uname -a" output
   sudo apt-get update
   sudo apt-get install git-core
   sudo aptitude install build-essential
   sudo apt-get install pkg-config 
   sudo apt-get install linux-headers-3.2.0-35-virtual (for vrouter.ko)
4) verify ssh to github is working
   ssh -T git@github.com
5) download devstack (should have already done this)
   git clone git@github.com:dsetia/devstack.git
6) copy sample localrc as mentioned above. Edit localrc 
   PHYSICAL_INTERFACE/SERVICE_HOST/... to match your setup

   cd devstack
   cp contrail/localrc-single localrc
   vi localrc  # edit PHYSICAL_INTERFACE
7) ./stack.sh
